#include <avr/pgmspace.h>
#include <SPI.h>

/* cube 8x8x8

*/
//pins
const byte layerpins[8] = {
  2,3,4,5,6,7,8,9};
const byte latchpin = 10;
/*
The Hardware SPI pins are mostly diffrent on each ÂµC. Look in the datasheet
Connect:
Serial in on MOSI
Clock on SCK

*/

//false then the layerdriver will set LOW when they have to be off - true then the layerdriver will set HIGH when they have to be off
const boolean layerdriveroffstate = false;
const int framedelay = 2000;

//----------------------------------------------------------------------------------------------------------------------------------------------------------
// put here the code from the desinger


PROGMEM prog_uchar frames[31][8][8] = {{{B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000},
{B00001100,B00001110,B00000010,B00000010,B00000010,B00000100,B00000100,B00001000},
{B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000},
{B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000},
{B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000},
{B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000},
{B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000},
{B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000}
},
{{B00001000,B00001000,B00001000,B00010000,B00000000,B00000000,B00000000,B00000000},
{B00100000,B00011100,B00000010,B00000010,B00000000,B00000010,B00000100,B00000000},
{B00100000,B00100000,B00100000,B00100000,B00100000,B00100000,B00100000,B00100000},
{B00000000,B00000000,B00000000,B00010000,B00010000,B00010000,B00010000,B00110000},
{B00100000,B00000000,B00000000,B00100000,B00000000,B00100000,B00110000,B00010000},
{B00100000,B00000000,B00000000,B00000000,B00100000,B00000000,B00100000,B00000000},
{B00000000,B00000000,B00000000,B00010000,B00000000,B00010000,B00000000,B00000000},
{B00000000,B00000000,B00001000,B00000000,B00001000,B00010000,B00010000,B00010000}
},
{{B01100000,B00010000,B00001100,B00000000,B00000000,B00000000,B00000000,B00000000},
{B00000010,B00000100,B00001000,B00010000,B00100000,B01000000,B01000000,B01000000},
{B00000000,B00010000,B00000000,B00100000,B00100000,B00111000,B00000010,B00000011},
{B00000000,B00010000,B00011100,B00000100,B00001000,B00000000,B00001000,B00000000},
{B00110000,B00000000,B00000100,B00000000,B00000000,B00001000,B00000000,B00001000},
{B00000000,B00000000,B00000000,B00010000,B00000000,B00010000,B00001100,B00001100},
{B10000000,B00010000,B00000000,B00010000,B00000000,B00000000,B00010000,B00010000},
{B00000000,B00000000,B00000000,B00000000,B00000000,B00010000,B01110000,B01000000}
},
{{B00110000,B00011000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000},
{B00000000,B00000000,B10000000,B00000000,B00000000,B01000000,B00000000,B00100000},
{B00000100,B10000000,B00001000,B10010000,B11100000,B00000000,B10000000,B00000000},
{B01000100,B01000100,B01111000,B00011100,B00100100,B01000100,B10000100,B10000000},
{B00000000,B01110000,B10001000,B10000000,B00001000,B00000100,B00000000,B10000000},
{B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000},
{B00100000,B00000000,B10000000,B10000000,B00000000,B00000000,B00000000,B00000000},
{B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00001000,B00010000}
},
{{B00000010,B00000010,B00000010,B00000011,B00000001,B00000001,B00000000,B00000000},
{B00000100,B00100000,B00100010,B00100010,B00000000,B00000010,B00000010,B00000010},
{B00000000,B00000000,B00000000,B00010000,B00000000,B00000000,B00000000,B00011100},
{B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00010000},
{B10010000,B10000000,B00000000,B00010000,B00000000,B00000000,B00010000,B00000000},
{B00001000,B00000000,B10000000,B10000000,B10010000,B10010000,B00010000,B00010000},
{B00001110,B00000010,B00010000,B00100010,B01000000,B00000000,B01000000,B00000000},
{B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000}
},
{{B01000000,B00100000,B00100000,B00100000,B00000000,B00000000,B00000000,B00000000},
{B01100000,B00000000,B10100000,B10000000,B10000000,B01100000,B01100000,B00000000},
{B00000000,B00000100,B00000000,B00100000,B00000000,B00100000,B00100000,B00100000},
{B00000000,B00000000,B00000010,B00000010,B00000000,B00000010,B00000010,B00000010},
{B00000000,B00000000,B00000010,B00000000,B00000000,B00000010,B00000000,B00000000},
{B00000000,B00000000,B00000000,B00000000,B00000010,B00000000,B00000000,B00000010},
{B00000010,B00000000,B00000000,B00000010,B00000000,B00000000,B00000010,B00000010},
{B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000}
},
{{B00000000,B00000000,B00000000,B00100000,B00100000,B00000000,B00000000,B00100000},
{B10011000,B00000000,B00000110,B00000010,B00000001,B01000000,B00000000,B00000000},
{B01000000,B00000000,B00000000,B11000000,B01000000,B01000000,B01000000,B00100000},
{B00000000,B00100000,B00100000,B00000000,B00000000,B01000000,B00000000,B00000000},
{B00000000,B00010000,B00010000,B00010000,B00010000,B00100000,B00100000,B00100000},
{B00010000,B00000000,B00000000,B00000000,B00000000,B00010000,B00000000,B00010000},
{B00000000,B00111000,B01101000,B00001000,B00001000,B00000000,B00001000,B00000000},
{B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000}
},
{{B00000000,B00000010,B00100000,B00000000,B00000001,B00000001,B00000000,B00010000},
{B00000100,B00000100,B01000100,B00000100,B00000110,B00000010,B00000000,B00000010},
{B10000000,B00000000,B00000000,B00000000,B01000100,B00000100,B00000100,B00000100},
{B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000},
{B10001000,B00010000,B11100000,B00000000,B00000000,B00000000,B00000000,B10000000},
{B00000000,B00001100,B00000100,B00110100,B00000000,B01000000,B00001000,B01000000},
{B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000},
{B00000010,B00000010,B00001100,B00000000,B00010000,B00000000,B00100000,B00000000}
},
{{B00000100,B00000000,B00000100,B00000100,B00000000,B00000000,B00000000,B00000000},
{B00000100,B00000100,B00000100,B01000100,B00000100,B00000000,B00110100,B00011000},
{B00001000,B00000000,B00000000,B00001000,B00000000,B01000000,B00001000,B00000000},
{B00000110,B00001000,B00010000,B00000000,B00000000,B00000000,B00000000,B00100000},
{B00000000,B00000100,B00000000,B00000100,B00000000,B00000000,B00001000,B00000100},
{B00000100,B00000100,B00010100,B00010000,B00011000,B00000000,B00000100,B00000000},
{B00001000,B00011000,B00000000,B00000000,B00010000,B00000000,B00010000,B00010000},
{B00000000,B00000000,B00000000,B00000000,B00000100,B00001100,B00000100,B00000100}
},
{{B00100000,B00100000,B00111100,B00000000,B00010000,B00010000,B00000000,B00000000},
{B00100000,B00010000,B00001000,B00010110,B00001100,B00000000,B00010000,B00010000},
{B00000000,B00100000,B00000000,B00000000,B00000000,B00110000,B00000000,B00100000},
{B00000000,B00000000,B00101000,B00000000,B00000000,B00010000,B00000000,B00000000},
{B00000100,B00000110,B00000010,B00000000,B00100100,B00000000,B00000000,B00000000},
{B00000000,B00100000,B00000000,B00100000,B00000100,B00000000,B00000000,B00000100},
{B01000000,B00000000,B00000000,B00000000,B10100100,B11000000,B00100000,B00000000},
{B00100000,B00100000,B00000000,B00000100,B01000000,B00000000,B00000000,B00000100}
},
{{B00000000,B00010000,B00000000,B00001000,B00000100,B00000110,B00000000,B00000000},
{B00110000,B00000000,B00010000,B00000000,B00000000,B00010000,B00000000,B00010000},
{B00000000,B00000000,B00000000,B00100000,B00000000,B01000100,B00011100,B01011000},
{B01000000,B00000110,B00000010,B01000100,B00000000,B00100100,B00011000,B00000000},
{B00000000,B01000000,B00000000,B00000000,B00000000,B00000000,B01000000,B00000000},
{B00000010,B00000110,B00000000,B00000000,B00010000,B00000000,B00100000,B00000000},
{B00000000,B00000000,B00000000,B00001000,B00000000,B00000001,B00000010,B00001001},
{B00001000,B00001000,B00010000,B00000000,B00000000,B00001000,B00000000,B00001000}
},
{{B00000000,B00100000,B00100000,B00000000,B00010000,B00001001,B00001111,B00000000},
{B00100000,B00000001,B00000001,B01000000,B00000000,B00000000,B01000000,B00000000},
{B00010000,B00001000,B00001000,B00101000,B00100110,B00000010,B00000001,B00000001},
{B00001000,B00001000,B00000000,B00000000,B01010000,B00000000,B00010000,B00100000},
{B00000001,B00000000,B00000010,B01000010,B00000110,B00000000,B00000100,B00000000},
{B00000000,B01000000,B00000010,B00000000,B00000010,B00000000,B00000001,B01000001},
{B00001000,B00010000,B00100000,B00100100,B00000000,B01000000,B00000000,B00000010},
{B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000}
},
{{B00000100,B00000010,B00000000,B00000001,B00000000,B00000000,B00000000,B00000000},
{B00000000,B00100000,B00100000,B00100000,B00100000,B00100000,B00110000,B00001000},
{B00000000,B00100000,B00100000,B00000000,B00100000,B00000000,B00100000,B00100000},
{B00000000,B00010000,B00000000,B00100000,B00000000,B00000000,B00000000,B00100000},
{B00000000,B00000000,B00000100,B00000000,B00000000,B00000000,B00001000,B00000000},
{B00000000,B10000000,B10000000,B00000000,B01100000,B00011111,B00000001,B00000010},
{B01000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000},
{B00000000,B00000000,B00000000,B00000000,B00000000,B00001100,B00011000,B01000000}
},
{{B00001000,B00000100,B00000110,B00110000,B01100000,B00000000,B00000000,B00000000},
{B00010000,B00000000,B00000000,B00010000,B00000001,B00000000,B00001000,B00001100},
{B00100000,B00000000,B00100000,B00100000,B00011111,B00000000,B00000000,B00000000},
{B00000010,B00000000,B01000000,B00000000,B00000000,B00001000,B00000000,B00100000},
{B00000000,B00000001,B10000000,B00000001,B00000001,B00000001,B00000000,B00000000},
{B00010000,B10010000,B00001110,B00000011,B00000001,B10000001,B00000000,B00000001},
{B00000000,B01000000,B00001000,B00000000,B10000000,B00000000,B10001000,B00000000},
{B00000000,B00000000,B00011000,B00110000,B00101000,B00100000,B00001000,B01001000}
},
{{B00100000,B00100000,B00100000,B00000000,B00000000,B00000000,B00000000,B00000000},
{B00000000,B00000010,B00000000,B00000000,B00000000,B00001000,B00010000,B00000000},
{B00000000,B00000010,B00000000,B00000000,B00000010,B00000000,B00000000,B00000010},
{B00000000,B00100000,B00000000,B00000000,B00100000,B00000000,B00111100,B00000000},
{B00100000,B00000000,B00100000,B00000000,B00000000,B00000000,B00100000,B00000000},
{B00000000,B00010000,B00010000,B00010000,B00010000,B00010000,B00100000,B00000000},
{B00000000,B00010000,B00000000,B00010000,B00000000,B00000000,B00010000,B00000000},
{B00010000,B00010000,B00000000,B00000000,B00010000,B00000000,B00000000,B00000000}
},
{{B00011010,B00010001,B00100000,B01000100,B01000000,B01000000,B01110010,B00000001},
{B01010000,B00000000,B00001000,B01000000,B01000011,B01000000,B00000000,B00100100},
{B00001110,B00000001,B01100001,B00000000,B00100000,B00000000,B00100000,B00000000},
{B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B10000000,B00000000},
{B00000000,B00000000,B00000000,B00000000,B10000000,B00000000,B00000000,B00000000},
{B10000000,B00000000,B00000000,B10000000,B00000000,B00000000,B00000000,B00000000},
{B00000100,B00001000,B00010000,B00100000,B00000000,B00000000,B01000000,B00000000},
{B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000010}
},
{{B00000110,B00000000,B00110000,B11000000,B00000000,B00000000,B00000000,B00000000},
{B00000000,B00000000,B00000000,B11001011,B00000000,B00000000,B00000000,B00000001},
{B01000000,B00000000,B10000000,B00000000,B00000000,B00000000,B00000000,B00000000},
{B00000000,B00000000,B00010000,B00000000,B00000000,B00100000,B00000000,B00000000},
{B00100000,B00000000,B00000000,B01000000,B00000110,B01001000,B01100000,B00001000},
{B00000000,B00001000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000},
{B00000000,B00000000,B00000000,B00000001,B00000000,B00000000,B00000000,B00000000},
{B00011101,B00100000,B01000010,B00000011,B00000100,B00001000,B00000000,B00000000}
},
{{B00110100,B00001100,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000},
{B00000000,B00000000,B00010000,B00000000,B00001000,B10001000,B10001000,B01001000},
{B00000000,B00000000,B00100000,B00000000,B00000000,B00000000,B00010000,B00000000},
{B00000000,B00000000,B00000000,B00000000,B00000000,B00100000,B00000000,B00000000},
{B00000000,B00000000,B00100000,B00000000,B00000000,B00000000,B00000000,B00000000},
{B00000000,B10100010,B10000100,B01011000,B00000000,B00000000,B00000000,B00000000},
{B10100000,B00000000,B00000010,B00000000,B00000000,B00100000,B00000010,B00000000},
{B00000000,B00111100,B00110110,B00000000,B00100010,B01000000,B01000010,B00000000}
},
{{B00011000,B00011100,B00001000,B00001000,B00001000,B00000000,B00000000,B00000000},
{B00011000,B10011000,B00001000,B01011000,B00001010,B00001000,B00111010,B00000000},
{B00010000,B00001100,B00111100,B00011000,B00000000,B00000000,B00000000,B00001000},
{B00000000,B00000100,B00100000,B00000000,B00000000,B00100100,B00100000,B00000100},
{B00000000,B00001100,B00001000,B00101000,B00101000,B00000000,B00000100,B00000000},
{B00001000,B00000110,B00101110,B00001101,B00100000,B00001001,B00001100,B00001100},
{B00001100,B00001000,B00000000,B00001000,B00011000,B00100000,B00101000,B00001000},
{B00000000,B00000000,B00000000,B00000000,B11000000,B00100000,B00100000,B00011100}
},
{{B00100000,B00100010,B00000000,B00100010,B00000000,B00100000,B00100000,B00100000},
{B00001101,B00110000,B00110100,B00000000,B00110010,B00110110,B00001100,B00000100},
{B00110000,B00110000,B00100000,B00100000,B00100000,B00100000,B00100000,B00000000},
{B00000000,B00100000,B00000000,B00000000,B00000000,B00100000,B00000000,B00100000},
{B00100000,B01000000,B00100001,B00100000,B00100000,B00100000,B00000000,B00000000},
{B00001100,B01100000,B00001000,B00000000,B00101000,B00000000,B00010001,B00000000},
{B00000000,B00100000,B00110000,B00001000,B01101000,B00001000,B00000000,B00000000},
{B00000000,B00000000,B00100000,B01000000,B01100000,B00000000,B00000000,B01100000}
},
{{B00000000,B00100000,B00100000,B00011010,B00000000,B00000000,B00000000,B00000000},
{B00000000,B00001000,B00000000,B00000000,B00000000,B00100000,B00100000,B00100000},
{B00000001,B00001001,B00001110,B00001101,B00001000,B00000100,B00000000,B00001000},
{B00000000,B00000000,B00010000,B00011000,B00000000,B00101000,B00000000,B00101000},
{B00010000,B00010000,B00010000,B00000000,B00000000,B00000000,B00001000,B00011000},
{B00001000,B00000000,B00010000,B00011000,B00101000,B00110000,B00100000,B00010000},
{B01100100,B00101000,B00010000,B00111100,B00000000,B00011000,B00110000,B00101000},
{B10010000,B00001100,B10011000,B00110100,B00100100,B11000100,B01000000,B01101000}
},
{{B00000000,B00000100,B00001000,B00001000,B00000000,B00000000,B00000000,B00000000},
{B00000000,B00000000,B00000000,B00000100,B00000000,B00000000,B00000100,B00000000},
{B01000000,B00010011,B00110011,B01001101,B00001000,B00001100,B00001110,B00001100},
{B00000101,B00001010,B00000000,B00010000,B00000000,B00000010,B00000100,B00000010},
{B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000},
{B00100001,B00100100,B00000000,B00000100,B00100000,B00001000,B00011000,B00000000},
{B00010000,B00110100,B00000100,B01000000,B10100000,B10000100,B00100100,B00111100},
{B00000000,B00000000,B00000000,B00000000,B00011110,B00011100,B00001000,B00111010}
},
{{B01100100,B00111110,B00111000,B00000000,B00000000,B00000000,B00000000,B00000000},
{B00010000,B01000100,B01010000,B01010100,B00010000,B01010100,B01000100,B00101000},
{B00000000,B10010000,B00000000,B00110100,B00000000,B10000000,B00010100,B01000000},
{B00000000,B00111100,B00110100,B00000000,B10001000,B00000100,B00001100,B00001000},
{B00101000,B11000000,B00001100,B01010000,B00010000,B01100100,B00000100,B01000000},
{B00101000,B01000000,B00001100,B01000100,B00001100,B11000000,B00001000,B00000100},
{B00000000,B00100000,B00000000,B00000000,B01000000,B00000000,B00010000,B00011000},
{B00000000,B00000000,B00000000,B00000000,B00000000,B00001100,B00011000,B00010000}
},
{{B01000000,B00100000,B00011000,B00000000,B00000000,B00000000,B00000000,B00000000},
{B00100000,B00100100,B00001000,B00010000,B00110000,B00000000,B01000000,B01000000},
{B00100110,B00000000,B00000100,B00001110,B00100010,B00000010,B00000000,B00000000},
{B00000000,B00000010,B01000000,B00000001,B00000000,B00000000,B00110001,B00001000},
{B00000000,B10000000,B00000100,B00001100,B00001110,B00010000,B10100000,B11010010},
{B00011000,B01000100,B01000000,B00000100,B00000000,B00000000,B10000000,B00000100},
{B00010000,B10010000,B00010000,B00000000,B00100000,B00100000,B11000000,B00000000},
{B00000000,B00000000,B00000000,B00000000,B11000000,B00110000,B01110000,B00110000}
},
{{B00000000,B00000011,B00001110,B00110000,B00000000,B00000000,B00000000,B00000000},
{B00011000,B00010000,B00010000,B00011111,B00000000,B00000000,B00000000,B00000000},
{B01100000,B11000100,B10000001,B00100000,B00101100,B00100000,B00111000,B00110000},
{B00000100,B00001000,B00000000,B00010000,B00000000,B01000001,B01110000,B00100111},
{B00000000,B00000100,B00000000,B00001000,B00011110,B11000000,B00000000,B00010010},
{B00000000,B00000000,B00000010,B00000000,B00000011,B00000100,B00100000,B00000000},
{B10000011,B01000000,B00000010,B00000010,B00001010,B00000000,B00000010,B00000010},
{B00000000,B00000000,B10101011,B00000000,B00000000,B00000000,B00000000,B00000001}
},
{{B10000000,B00000000,B00000000,B10000000,B01100000,B00001000,B00000110,B00000011},
{B00100101,B01010001,B00000000,B00000100,B00010000,B00000000,B00000000,B01000000},
{B00001000,B00001000,B00000000,B00000000,B00000000,B00001000,B00000000,B00010000},
{B11000000,B00000000,B00000000,B00000000,B00001000,B00000000,B00001000,B00000000},
{B00000000,B00000001,B00000000,B00000010,B00000000,B00000000,B00011001,B00000100},
{B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00001000},
{B00000000,B00000000,B00000000,B00001000,B00000000,B00000000,B00000000,B00001000},
{B00000000,B00001000,B00001000,B00000000,B00000000,B00001000,B00001000,B00000000}
},
{{B00000100,B00000000,B00000100,B00000110,B00000000,B00000000,B00000000,B00000000},
{B00000000,B00000000,B00000100,B00000000,B00000000,B00000100,B00000000,B00000000},
{B00000000,B00000100,B00000000,B00000000,B00000100,B00000000,B00000000,B00000000},
{B00000000,B00000000,B00000000,B00000000,B00000000,B00000100,B00000000,B00000000},
{B00000100,B00000000,B00000000,B00000000,B00000000,B00000100,B00000000,B00000000},
{B00000100,B00000100,B00000000,B00000100,B00000000,B00000000,B00000000,B00000000},
{B00100100,B00000100,B00000100,B00000100,B00000100,B00000100,B00000000,B00000100},
{B00000000,B00000000,B00000000,B00000000,B00001100,B00001100,B00000100,B00010100}
},
{{B00000010,B00001100,B00000110,B00011100,B00000000,B00000000,B00000000,B00000000},
{B00000000,B00100000,B00100001,B00100000,B00000010,B00100000,B00100010,B00010000},
{B10000010,B00000000,B10000000,B11000110,B11000110,B00001011,B00000000,B00010000},
{B01000100,B00000000,B00000000,B10000000,B00000000,B00000000,B10000000,B00000000},
{B00010000,B00010000,B01100000,B10001000,B00110000,B11001000,B11110000,B00100000},
{B00000000,B00000000,B00000000,B10001100,B00000000,B00000000,B00001000,B10001000},
{B10100010,B00100000,B00000010,B10100000,B11110000,B00000010,B10010000,B00000000},
{B00000000,B00000000,B00000000,B00000000,B00100000,B01000000,B01001100,B00010000}
},
{{B10000000,B00000100,B10011000,B01000000,B00000000,B00000000,B00000000,B00000000},
{B00000000,B10000000,B00000000,B00000000,B00000000,B10000000,B10000000,B00000000},
{B00010000,B00011110,B00010001,B00000000,B00010001,B00000001,B00010001,B00001111},
{B00000010,B00010010,B00001110,B00000000,B00001000,B00000000,B00000000,B00000000},
{B00110000,B00100000,B00000000,B00000000,B00000000,B00100000,B00000000,B00010010},
{B00000000,B00000000,B00000000,B10000000,B00011000,B01000100,B00010100,B01011000},
{B00000000,B10001000,B00011000,B10010000,B01101000,B00110000,B01000000,B01000000},
{B00000000,B00000000,B00000000,B01110000,B10010000,B10010000,B00000000,B10000000}
},
{{B00000100,B00011100,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000},
{B00100000,B00110010,B00100000,B00100000,B00100010,B00000000,B00000000,B00000100},
{B00000000,B00000000,B00000000,B00001000,B00000000,B00001100,B00011000,B00010010},
{B00000000,B00001000,B00000000,B00001000,B00010000,B00110100,B01100000,B01000000},
{B01001000,B00111000,B00011000,B00001100,B00001000,B00001000,B00000000,B00001000},
{B00001000,B00000000,B00001000,B01000000,B00000000,B00001000,B00001000,B00001000},
{B00101100,B00001000,B00101000,B00111000,B00101000,B00001000,B01001000,B00000000},
{B01011000,B01000000,B00100000,B00000100,B00100000,B01000000,B00100100,B00001000}
},
{{B00000000,B00000100,B01111000,B00000000,B00000000,B00000000,B00000000,B00000000},
{B00000000,B00001100,B00011110,B00011000,B00000010,B00000010,B00000000,B00000010},
{B00011000,B00011010,B00000000,B00000000,B00000000,B00000000,B00000010,B00000000},
{B00010100,B00001100,B00100000,B00011100,B00011100,B00000010,B00010100,B00010100},
{B00001000,B00000000,B00000000,B00001000,B00000000,B00000000,B00011000,B00010100},
{B00011100,B00011000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000},
{B00000000,B00000000,B00000010,B00001000,B00010000,B00001010,B00010000,B00000000},
{B00011000,B00111000,B00101000,B00100100,B00000000,B00000100,B00000010,B00000000}
}
};
const int framecount=30;


//----------------------------------------------------



byte frame[8][8];
byte activeframe = 0;
byte lastlayer = 0;
unsigned long start = 0;
int inverti = 0;
void setup() {
  
  SPI.begin();
  pinMode(latchpin, OUTPUT);
  for (int i = 0;i<8;i++) {
    pinMode(layerpins[i],OUTPUT);
  }
  
  
}

void loop() {
  
  for (int i =0;i<8;i++) {
    
    //for (int j = 0;j<8;j++) {
      
        //SPI.transfer(frame[i][j]);
        //+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
        // Info I know that this is bad programming, but I think that is faster than an for loop
        //+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
        inverti=((i*-1)+7);
      /*SPI.transfer(frame[i][0]);
      SPI.transfer(frame[i][1]);
      SPI.transfer(frame[i][2]);
      SPI.transfer(frame[i][3]);
      SPI.transfer(frame[i][4]);
      SPI.transfer(frame[i][5]);
      SPI.transfer(frame[i][6]);
      SPI.transfer(frame[i][7]);*/
      SPI.transfer(frame[inverti][0]);
      SPI.transfer(frame[inverti][1]);
      SPI.transfer(frame[inverti][2]);
      SPI.transfer(frame[inverti][3]);
      SPI.transfer(frame[inverti][4]);
      SPI.transfer(frame[inverti][5]);
      SPI.transfer(frame[inverti][6]);
      SPI.transfer(frame[inverti][7]);
    //}
    digitalWrite(layerpins[lastlayer],LOW);
    // digitalWrite(layerpins[lastlayer],layerdriveroffstate);
    digitalWrite(latchpin,HIGH);
    //digitalWrite(layerpins[i],!(layerdriveroffstate));
    digitalWrite(layerpins[i],HIGH);
    lastlayer = i;
   delayMicroseconds(10);
   digitalWrite(latchpin,LOW);
   
  }
  
  if ((millis()-start) > framedelay) {
    start = millis();
    Serial.println(start);
    activeframe++;
    if (activeframe >framecount) {
      activeframe = 0;
    }
    for (int i = 0;i<8;i++) {
      for (int j = 0;j<8;j++) {
       frame[i][j] = frames[activeframe][i][j];
    }
    }
}
  
}
